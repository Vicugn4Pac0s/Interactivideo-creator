!function(){"use strict";var t={11:function(t,e,n){function r(t){o.length||i(),o[o.length]=t}t.exports=r;var i,o=[],u=0;function a(){for(;u<o.length;){var t=u;if(u+=1,o[t].call(),u>1024){for(var e=0,n=o.length-u;e<n;e++)o[e]=o[e+u];o.length-=u,u=0}}o.length=0,u=0}var f,c,l,s=void 0!==n.g?n.g:self,h=s.MutationObserver||s.WebKitMutationObserver;function p(t){return function(){var e=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(e),clearInterval(n),t()}}}"function"==typeof h?(f=1,c=new h(a),l=document.createTextNode(""),c.observe(l,{characterData:!0}),i=function(){f=-f,l.data=f}):i=p(a),r.requestFlush=i,r.makeRequestCallFromTimer=p},471:function(t,e,n){var r=n(36),i=function t(){if(!(this instanceof t))return new t;var e=this;return e.promise=new r((function(t,n){e.resolve=t,e.reject=n})),e};i.Promise=r,t.exports=i},342:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(11);function o(){}var u=null,a={};function f(t){if("object"!==r(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("Promise constructor's argument is not a function");this._40=0,this._65=0,this._55=null,this._72=null,t!==o&&v(t,this)}function c(t,e){for(;3===t._65;)t=t._55;if(f._37&&f._37(t),0===t._65)return 0===t._40?(t._40=1,void(t._72=e)):1===t._40?(t._40=2,void(t._72=[t._72,e])):void t._72.push(e);!function(t,e){i((function(){var n=1===t._65?e.onFulfilled:e.onRejected;if(null!==n){var r=function(t,e){try{return t(e)}catch(t){return u=t,a}}(n,t._55);r===a?s(e.promise,u):l(e.promise,r)}else 1===t._65?l(e.promise,t._55):s(e.promise,t._55)}))}(t,e)}function l(t,e){if(e===t)return s(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===r(e)||"function"==typeof e)){var n=function(t){try{return t.then}catch(t){return u=t,a}}(e);if(n===a)return s(t,u);if(n===t.then&&e instanceof f)return t._65=3,t._55=e,void h(t);if("function"==typeof n)return void v(n.bind(e),t)}t._65=1,t._55=e,h(t)}function s(t,e){t._65=2,t._55=e,f._87&&f._87(t,e),h(t)}function h(t){if(1===t._40&&(c(t,t._72),t._72=null),2===t._40){for(var e=0;e<t._72.length;e++)c(t,t._72[e]);t._72=null}}function p(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function v(t,e){var n=!1,r=function(t,r,i){try{t((function(t){n||(n=!0,l(e,t))}),(function(t){n||(n=!0,s(e,t))}))}catch(t){return u=t,a}}(t);n||r!==a||(n=!0,s(e,u))}t.exports=f,f._37=null,f._87=null,f._61=o,f.prototype.then=function(t,e){if(this.constructor!==f)return function(t,e,n){return new t.constructor((function(r,i){var u=new f(o);u.then(r,i),c(t,new p(e,n,u))}))}(this,t,e);var n=new f(o);return c(this,new p(t,e,n)),n}},36:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(342);t.exports=i;var o=s(!0),u=s(!1),a=s(null),f=s(void 0),c=s(0),l=s("");function s(t){var e=new i(i._61);return e._65=1,e._55=t,e}i.resolve=function(t){if(t instanceof i)return t;if(null===t)return a;if(void 0===t)return f;if(!0===t)return o;if(!1===t)return u;if(0===t)return c;if(""===t)return l;if("object"===r(t)||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new i(e.bind(t))}catch(t){return new i((function(e,n){n(t)}))}return s(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i((function(t,n){if(0===e.length)return t([]);var o=e.length;function u(a,f){if(f&&("object"===r(f)||"function"==typeof f)){if(f instanceof i&&f.then===i.prototype.then){for(;3===f._65;)f=f._55;return 1===f._65?u(a,f._55):(2===f._65&&n(f._55),void f.then((function(t){u(a,t)}),n))}var c=f.then;if("function"==typeof c)return void new i(c.bind(f)).then((function(t){u(a,t)}),n)}e[a]=f,0==--o&&t(e)}for(var a=0;a<e.length;a++)u(a,e[a])}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){t.forEach((function(t){i.resolve(t).then(e,n)}))}))},i.prototype.catch=function(t){return this.then(null,t)}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.selector=document.getElementById("demo-video"),this.aData,this.timer,this.frame=0,this.interval=1e3/15,this.timer_lasttime}var n,r;return n=e,(r=[{key:"play",value:function(t){this.stop(),this.aData=t,this.timer=requestAnimationFrame(this.playTimer.bind(this))}},{key:"stop",value:function(){this.clearPlayTimer(),this.frame=0}},{key:"playTimer",value:function(t){this.timer=requestAnimationFrame(this.playTimer.bind(this));var e=this.interval;if(this.timer_lasttime&&(e=t-this.timer_lasttime),this.interval>e)return!1;this.selector.setAttribute("src",this.aData[this.frame].d),this.frameIncrement(),this.timer_lasttime=t}},{key:"clearPlayTimer",value:function(){if(!this.timer)return!1;cancelAnimationFrame(this.timer),this.timer_lasttime=null}},{key:"frameIncrement",value:function(){this.frame++,this.frame>=this.aData.length&&(this.frame=0)}}])&&t(n.prototype,r),e}(),r=n(471),i=n.n(r);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.FileReader=new FileReader}var e,n;return e=t,(n=[{key:"convert",value:function(t){var e=this,n=new(i()),r=0,o=[];return 0===e.checkFile(t)?(n.reject(new Error("error")),n.promise):(t=e.sortFile(t),e.FileReader.readAsDataURL(t[r]),e.FileReader.onload=function(i){o.push({f:r,d:i.target.result}),r++,t[r]?e.FileReader.readAsDataURL(t[r]):n.resolve(o)},n.promise)}},{key:"sortFile",value:function(t){return(t=Object.keys(t).map((function(e){return t[e]}))).sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),t}},{key:"checkFile",value:function(t){for(var e=0;e<t.length;e++)if(-1===t[e].type.indexOf("image"))return 0;return 1}}])&&o(e.prototype,n),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!window.File&&!window.FileReader)return alert("File APIをサポートしていません"),!1;this.player=new e,this.dataurlConverter=new u,this.dropArea=document.getElementById("dropArea"),this.dragEvents()}var n,r;return n=t,(r=[{key:"dragEvents",value:function(){var t=this;t.dropArea.addEventListener("dragover",(function(t){t.stopPropagation(),t.preventDefault()})),t.dropArea.addEventListener("drop",(function(e){e.stopPropagation(),e.preventDefault();var n=e.dataTransfer.files;t.dataurlConverter.convert(n).then((function(e){console.log(e),t.player.play(e)}),(function(t){console.log(t)}))}))}}])&&a(n.prototype,r),t}();window.InteractivideoCreator=f}()}();